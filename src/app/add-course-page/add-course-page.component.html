<div class="add-course-page">
<form class="add-course-wrapper" [formGroup]="form" (ngSubmit)="save()" *ngIf="form">
  <div class="add-course" *ngIf="item">
    <div class="add-course__form">
      <h2 class="add-course__title">New course</h2>
      <div class="add-course__input-caption">
        <div class="add-course__input-caption_title">Title:</div>
        <div 
          class="add-course__input-caption_error"
          *ngIf="form.controls['name'].hasError('required') && form.controls['name'].touched"
        >
          This field is required.
        </div>
        <div class="add-course__input-caption_error" *ngIf="form.controls['name'].hasError('maxlength')">
          Title should not exceed 50 characters.
        </div>
        <div class="add-course__input-caption_required">*required</div>
      </div>
      <div 
        class="add-course__input-wrapper" 
        [ngClass]="{'add-course__input-error' 
        : (form.controls['name'].hasError('required') || form.controls['name'].hasError('maxlength')) 
        && form.controls['name'].touched}"
      >
        <input 
          type="text"
          placeholder="Text input" 
          class="add-course__input" 
          formControlName="name"     
        />
      </div>
      <div class="add-course__input-caption">
        <div class="add-course__input-caption_title">Description:</div>
        <div 
          class="add-course__input-caption_error" 
          *ngIf="form.controls['description'].hasError('required') && form.controls['description'].touched"
        >
          This field is required.
        </div>
        <div class="add-course__input-caption_error" *ngIf="form.controls['description'].hasError('maxlength')">
          Description should not exceed 500 characters.
        </div>
        <div class="add-course__input-caption_required">*required</div>
      </div>
      <div 
        class="add-course__input-wrapper add-course__input-wrapper_description" 
        [ngClass]="{'add-course__input-error' 
        : (form.controls['description'].hasError('required') || form.controls['description'].hasError('maxlength')) 
        && form.controls['description'].touched}"
      >
        <textarea 
          placeholder="Add description" 
          class="add-course__input" 
          formControlName="description" 
        >
        </textarea>
      </div>
      <app-course-duration [formControl]="form.controls.length"></app-course-duration>
      <app-course-date [formControl]="form.controls.date"></app-course-date>
      <app-course-authors [formControl]="form.controls.authors"></app-course-authors>
      <div class="add-course__actions">
        <button class="add-course__actions_cancel" routerLink="/courses">Cancel</button>
        <button 
          class="add-course__actions_save" 
          [disabled]="!form.valid"
          [ngClass]="{ 'add-course__actions_save-disabled': !form.valid }"
        >Save</button>
      </div>
    </div>
  </div>
</form>
</div>
